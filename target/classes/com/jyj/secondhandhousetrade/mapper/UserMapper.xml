<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jyj.secondhandhousetrade.mapper.UserMapper">
	<resultMap id="userMap" type="User">
		<id property="uid" column="uid"/>
		<result property="username" column="username"/>
		<result property="password" column="password"/>
		<collection property="roles" ofType="Role">
			<id property="rid" column="rid"/>
			<result property="rname" column="rname"/>
			<collection property="permissions" ofType="Permission">
				<id property="pid" column="pid"/>
				<result property="name" column="name"/>
				<result property="url" column="url"/>
			</collection>
		</collection>
	</resultMap>


	<select
			id="findByUsername"
			resultMap="userMap"
			flushCache="false"
			useCache="true"
			timeout="10000"
			fetchSize="256"
			statementType="PREPARED"
			resultSetType="FORWARD_ONLY">
		SELECT * from t_demo WHERE uuid = #{id}
	</select>
	<select id="list"
	        resultMap="userMap"
	        flushCache="false"
	        useCache="true"
	        timeout="10000"
	        fetchSize="256"
	        statementType="PREPARED"
	        resultSetType="FORWARD_ONLY">
		SELECT * FROM t_demo
	</select>
	<update
			id="update"
			parameterType="User"
			flushCache="true"
			statementType="PREPARED"
			timeout="20">

	</update>
	<insert
			id="create"
			flushCache="true"
			statementType="PREPARED"
			timeout="20">

	</insert>

	<delete
			id="deleteById"
			parameterType="User"
			flushCache="true"
			statementType="PREPARED"
			timeout="20">
	</delete>
</mapper>
